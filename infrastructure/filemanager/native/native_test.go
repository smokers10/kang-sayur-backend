package native

import (
	"fmt"
	"kang-sayur-backend/infrastructure/filemanager"
	"testing"

	"github.com/stretchr/testify/assert"
)

var encoded = "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"

func TestUpload(t *testing.T) {
	fd := filemanager.FileData{
		Base64:   encoded,
		Format:   "jpeg",
		Filename: "test",
		Path:     "../../public/test",
	}

	path, err := NativeFM().Upload(&fd)

	assert.Empty(t, err)
	assert.NotEmpty(t, path)
	fmt.Println(path)
}

func TestRemove(t *testing.T) {
	err := NativeFM().Remove("../../public/test/test.jpeg")

	assert.Empty(t, err)
}
